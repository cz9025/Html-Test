<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
<script src="js/animate.js"></script>
		
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				width: 1200px;
				margin: 100px;
				border: 1px solid gray;
				overflow: hidden;
			}
			ul{
				width: 1000%;
				list-style: none;
			}
			li{
				float: left;
				width: 240px;
				
			}
			img{
				display: block;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<ul id="ul">
				<li><img src="img/1.jpg"/></li>
				<li><img src="img/2.jpg"/></li>
				<li><img src="img/3.jpg"/></li>
				<li><img src="img/4.jpg"/></li>
				<li><img src="img/5.jpg"/></li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var ul=document.getElementById("ul");
		var uli=ul.children;
		
		for(var i=0;i<uli.length;i++){
			uli[i].onmouseover=function(){
				for(var j=0;j<uli.length;j++){
//					uli[j].style.width="100px";
					autoPlay(uli[j],{width:100});
//				animate(uli[j], {width: 100});
					
				}
//				this.style.width="800px";
				autoPlay(this,{width:800});
//				animate(this, {width: 800});
				
			}
			uli[i].onmouseout=function(){
				for(var i=0;i<uli.length;i++){
				autoPlay(uli[i],{width:240});
//				animate(uli[i], {width: 240});
				
					
				}
			}
		}
		
		function autoPlay(obj,json){
			clearInterval(obj.timer);
			obj.timer=setInterval(function(){
				var flag=true;
				for(var k in json){
					var current=parseInt(getstyle(obj,k));
					var step=(json[k]-current)/10;
					step=step>0?Math.ceil(step):Math.floor(step);
					
					obj.style[k]=current+step+"px";
					if(current!=json[k]){
						flag=false;
					}
				}
				if(flag){
					clearInterval(obj.timer);
					
				}
			},10);
		}
		
		function getstyle(obj,attr){
			if(obj.currentStyle){
				return obj.currentStyle[attr];
			}else{
				return window.getComputedStyle(obj,null)[attr];
			}
		}
	</script>
</html>
