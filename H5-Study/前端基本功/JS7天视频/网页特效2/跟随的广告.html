<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!--<script type="text/javascript" src="js/fun.js"></script>-->
		
		<title>跟随的广告</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 100%;
				height: 2000px;
			}
			#fix{
				height: 350px;
				width: 100px;
				background: url(img/001.jpg) no-repeat center center;
				position: absolute;
				top: 50px;
				left: 20px;
				border: 1px solid gray;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div id="fix"></div>
		</div>
		
		<script type="text/javascript">
			var fix=document.getElementById("fix");
			
			var tops=fix.offsetTop;
			var leader=0,target=0;
			var timer=null;
			window.onscroll=function(){
				//先清除掉先前的定时器,
				clearInterval(timer);
				target=tops+scroll().top;
				timer=setInterval(function(){
				leader=leader+(target-leader)/10;
				fix.style.top=leader+"px";
			},20);
			}
			//获得页面滚动的距离
		function scroll(){
			if(window.pageYOffset !=null){
				return{
					left:window.pageXOffset,
					top:window.pageYOffset
				}
			}else if(document.compatMode=="CSS1Compat"){
				return{
					left:document.documentElement.scrollLeft,
					top:document.documentElement.scrollTop
				}
			}
			return{
				left:document.body.scrollLeft,
				top:document.body.scrollTop
			}
		}
		</script>
	</body>
</html>
